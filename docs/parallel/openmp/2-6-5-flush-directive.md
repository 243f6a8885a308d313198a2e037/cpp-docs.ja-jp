---
title: 2.6.5 flush ディレクティブ |Microsoft ドキュメント
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-parallel
ms.topic: conceptual
dev_langs:
- C++
ms.assetid: a2ec5f74-9c37-424a-8376-47ab4a5829a2
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: ad3b34195015f57955c5be685807ec43f0a8f8c6
ms.sourcegitcommit: 7019081488f68abdd5b2935a3b36e2a5e8c571f8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2018
---
# <a name="265-flush-directive"></a>2.6.5 flush ディレクティブ
**フラッシュ**ディレクティブについては、明示的または黙示に関わらず、かどうかは実装が現在チーム内のすべてのスレッドに、一貫性 (以下で指定) で特定のオブジェクトのビューがあることを確認してくださいに必要な場合は、「スレッド間」シーケンス ポイントを指定しますメモリです。 これは、前のこれらのオブジェクトを参照する式の評価が完了し、以降の評価がまだ開始されていないことを意味します。 たとえば、コンパイラは、メモリにレジスタからのオブジェクトの値を復元する必要があります、ハードウェアは、メモリへの書き込みバッファーをフラッシュし、メモリからオブジェクトの値を再読み込みする必要があります。  
  
 構文、**フラッシュ**ディレクティブは、次のようにします。  
  
```  
#pragma omp flush [(variable-list)]  new-line  
```  
  
 同期が必要なオブジェクトすべてで指定できる変数としている場合、それらの変数は、オプションで指定できます*変数一覧*です。 ポインターにある場合、*変数一覧*、ポインター自体がフラッシュされる、オブジェクトではなく、ポインターを参照します。  
  
 A**フラッシュ**せずディレクティブ、*変数一覧*自動ストレージ存続期間とアクセスできないオブジェクトを除くすべての共有オブジェクトを同期します。 (これはより多くのオーバーヘッドが発生する可能性が、**フラッシュ**で、*変数一覧*)。A**フラッシュ**せずディレクティブ、*変数一覧*は、次のディレクティブを暗黙的に指定します。  
  
-   `barrier`  
  
-   開始および終了をからに**重大**  
  
-   エントリとからの終了 `ordered`  
  
-   開始および終了をからに**並列**  
  
-   At 終了**の**  
  
-   At 終了**セクション**  
  
-   At 終了**単一**  
  
-   開始および終了をからに**に並列**  
  
-   開始および終了をからに**parallel sections の**  
  
 場合は、ディレクティブは示されません、`nowait`句が存在します。 注意する必要がある、**フラッシュ**ディレクティブは、次のいずれかの暗黙的に指定できません。  
  
-   入る**の**  
  
-   エントリをまたはからの終了時に**マスター**  
  
-   入る**セクション**  
  
-   入る**単一**  
  
 参照の volatile で修飾された型のオブジェクトの値にアクセスするように動作が発生しました、**フラッシュ**ディレクティブの前のシーケンス ポイントにそのオブジェクトを指定します。 参照の volatile で修飾された型のオブジェクトの値を変更するように動作が発生しました、**フラッシュ**ディレクティブの後続のシーケンス ポイントにそのオブジェクトを指定します。  
  
 注意してください、**フラッシュ**ディレクティブには、その構文の一部として、C 言語のステートメントはありません、プログラム内で配置する場合に制限があります。 参照してください[付録 C](../../parallel/openmp/c-openmp-c-and-cpp-grammar.md)正式な文法にします。 次の例は、これらの制限を示しています。  
  
```  
/* ERROR - The flush directive cannot be the immediate  
*          substatement of an if statement.  
*/  
if (x!=0)  
   #pragma omp flush (x)  
...  
  
/* OK - The flush directive is enclosed in a  
*      compound statement  
*/  
if (x!=0) {  
   #pragma omp flush (x)  
}  
```  
  
 制限は、**フラッシュ**ディレクティブは、次のとおり。  
  
-   指定された変数、**フラッシュ**ディレクティブが、参照型にはできません。