---
title: "テクニカル ノート 24: MFC で定義されているメッセージおよびリソース | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vc.mfc.messages"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "メッセージ [C++], MFC"
  - "リソース [MFC]"
  - "TN024"
  - "Windows メッセージ [C++], MFC で定義されている"
ms.assetid: c65353ce-8096-454b-ad22-1a7a1dd9a788
caps.latest.revision: 10
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 6
---
# テクニカル ノート 24: MFC で定義されているメッセージおよびリソース
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

> [!NOTE]
>  次のテクニカル ノートは、最初にオンライン ドキュメントの一部とされてから更新されていません。  結果として、一部のプロシージャおよびトピックが最新でないか、不正になります。  最新の情報について、オンライン ドキュメントのキーワードで関係のあるトピックを検索することをお勧めします。  
  
 ここでは、MFC で使用される内部 Windows メッセージとリソース形式について説明します。  この情報は、.NET Framework の実装を示し、アプリケーションのデバッグに役立ちます。  レーシング的なのは、この情報がすべて公式にサポートされていなくても、高度な実装では、この情報の一部を使用できます。  
  
 ここでは、MFC のプライベートな実装の詳細が含まれています; すべてのコンテンツは、将来変更される可能性があります。  MFC のプライベートな Windows メッセージに 1 アプリケーションのスコープ内でのみ意味を持ちますが、メッセージをシステム全体の格納に将来変更します。  
  
 MFC のプライベートな Windows メッセージの範囲とリソースは、Microsoft Windows によって中断される予約「システム」範囲内です。  現在範囲のすべての数値が使用されておらず、将来、範囲の新しい数が使用される可能性があります。  現在使用カウントが変更されることがあります。  
  
 MFC のプライベートな Windows メッセージが範囲 0x360\-0x37F\>にあります。  
  
 MFC のプライベートなリソースは、範囲 0xF0\-0xFF\>にあります。  
  
 **MFC のプライベートな Windows メッセージ**  
  
 これらの Windows メッセージは比較的緩い結合がウィンドウ オブジェクト間で必要な場合や、.と、C\+\+ の仮想関数が適切でない C\+\+ 仮想関数の代わりに使用されます。  
  
 これらのプライベートな Windows メッセージおよび関連パラメーター構造体は、MFC のプライベートなヘッダー「AFXPRIV.H」で宣言されています。  警告されます。含むコードのいずれかが非公開のな動作にこのヘッダー依存する場合でも、MFC の将来のバージョンで、失敗した。  
  
 これらのメッセージが 1 件を処理する必要がある場合のまれなケースでは `ON_MESSAGE` のメッセージ マップ マクロを使用して、ジェネリック LRESULT\/WPARAM\/LPARAM 形式でメッセージを処理する必要があります。  
  
 **WM\_QUERYAFXWNDPROC**  
  
 このメッセージは、作成しているウィンドウに送信されます。  これは、WndProc が **AfxWndProc. AfxWndProc** から 1.であるかどうかを判断するメソッドとして作成プロセスは非常に高速送信されます。  
  
|||  
|-|-|  
|\[wParam\]|未使用|  
|\[lParam\]|未使用|  
|の場合、|**AfxWndProc**で処理された 1|  
  
 **WM\_SIZEPARENT**  
  
 このメッセージは、**CFrameWnd::OnSize** は `CFrameWnd::RecalcLayout` を呼び出します `CWnd::RepositionBars`を呼び出す\) フレームの側の周囲にコントロール バーを再配置サイズ変更の間に直接の子にフレーム ウィンドウによって送信されます。  `DeferWindowPos` を呼び出すように再描画を最小限に抑えるために **AFX\_SIZEPARENTPARAMS** 構造体 \(現在の使用できるクライアント領域の四角形を null である可能性があります\) HDWP と親ディレクトリが含まれます。  
  
|||  
|-|-|  
|\[wParam\]|未使用|  
|\[lParam\]|**AFX\_SIZEPARENTPARAMS** 構造体のアドレス|  
|の場合、|使用されない場合 \(0\)|  
  
 メッセージを無視すると、ウィンドウがレイアウトに参加しないことを示します。  
  
 **WM\_SETMESSAGESTRING**  
  
 このメッセージは、フレーム ウィンドウ、ステータス バーのメッセージ行を更新するようにを要求するように送信されます。  文字列 ID または LPCSTR を指定できます \(両方\)。  
  
|||  
|-|-|  
|\[wParam\]|文字列 ID \(またはゼロ\)|  
|\[lParam\]|文字列 \(または NULL\) の LPCSTR|  
|の場合、|使用されない場合 \(0\)|  
  
 **WM\_IDLEUPDATECMDUI**  
  
 このメッセージは、UI 更新コマンド ハンドラーのアイドルの更新を実装するアイドル時間に送信されます。  ウィンドウ \(通常はコントロール バー\) がメッセージを処理すれば、ウィンドウを `CCmdUI` オブジェクト \(または派生クラスのオブジェクト\) および「Item」の呼び出し **CCmdUI::DoUpdate** を作成します。  これは、コマンド ハンドラーのチェーン オブジェクトの `ON_UPDATE_COMMAND_UI` ハンドラーが順にチェックします。  
  
|||  
|-|-|  
|\[wParam\]|bool bDisableIfNoHandler|  
|\[lParam\]|使用されない場合 \(0\)|  
|の場合、|使用されない場合 \(0\)|  
  
 *bDisableIfNoHandler は* `ON_UPDATE_COMMAND_UI` `ON_COMMAND` ハンドラーがある場合 0 以外の UI オブジェクトを無効にする場合があります。  
  
 **WM\_EXITHELPMODE**  
  
 このメッセージは、状況依存のヘルプ モードを終了する `CFrameWnd` に送信されます。  このメッセージの受信は **CFrameWnd::OnContextHelp.**によって起動されるモーダル ループを終了します。  
  
|||  
|-|-|  
|\[wParam\]|使用されない場合 \(0\)|  
|\[lParam\]|使用されない場合 \(0\)|  
|の場合、|未使用|  
  
 **WM\_INITIALUPDATE**  
  
 このメッセージは、フレーム ウィンドウのすべての子孫にドキュメント テンプレートで、それぞれの最初の更新を行うと、セキュリティが強化されたときに送信されます。  これは `CView::OnInitialUpdate` 呼び出しにマップし、他の `CWnd`\-他のワン ショットの更新の派生クラスで使用することもできます。  
  
|||  
|-|-|  
|\[wParam\]|使用されない場合 \(0\)|  
|\[lParam\]|使用されない場合 \(0\)|  
|の場合、|使用されない場合 \(0\)|  
  
 **WM\_RECALCPARENT**  
  
 このメッセージは、親ウィンドウのビューで \(`GetParent`で抽出\) レイアウトの再計算を強制的に送信 \(通常、親は `RecalcLayout`を呼び出します\)。  これは、フレームが増大必要がある OLE サーバー アプリケーションでビューの合計サイズが大きくなると使用されます。  
  
 親ウィンドウがこのメッセージを処理する場合は、TRUE を返すように、lParam で渡された RECT はクライアント領域の新機能で塗りつぶすように変わります。  アクティブにするサーバー オブジェクトは元のときに追加されると `CScrollView` でこれを正しく ScrollBar \(ウィンドウの外側の場所、および使用される\) を処理するために使用されます。  
  
|||  
|-|-|  
|\[wParam\]|使用されない場合 \(0\)|  
|\[lParam\]|rectClient LPRECT は null である可能性があります。|  
|の場合、|それ以外の場合は、新しいクライアントの四角形場合は TRUE。|  
  
 **WM\_SIZECHILD**  
  
 このメッセージは、オーナー ウィンドウに `COleResizeBar`、ユーザーによるサイズ変更ハンドルを使用してサイズ変更バーのサイズを変更すると送信 \(`GetOwner`で表されます\)。  `COleIPFrameWnd` がメッセージにフレーム ウィンドウの位置を変更するときに、ユーザーによる要求したように応答します。  
  
 サイズ変更バーを含むフレーム ウィンドウに対してクライアント座標で指定された新しい四角形は、lParam でで前の尖っています。  
  
|||  
|-|-|  
|\[wParam\]|使用されない場合 \(0\)|  
|\[lParam\]|LPRECT の rectNew|  
|の場合、|使用されない場合 \(0\)|  
  
 **WM\_DISABLEMODAL**  
  
 このメッセージは、非アクティブにするフレーム ウィンドウが所有するすべてのポップアップ ウィンドウに送られます。  フレーム ウィンドウが決定に結果をかどうかポップアップ ウィンドウを無効にするために使用します。  
  
 フレームがモーダル状態に戻る入力またはディセーブルであることから特定のポップアップ ウィンドウを要求する場合に特別な処理をポップアップ ウィンドウに保持するために使用します。  ツールヒントは、フレーム ウィンドウがモーダル状態に入ると、自分自身を破棄するときに、このメッセージが存在する場合に使用します。  
  
|||  
|-|-|  
|\[wParam\]|使用されない場合 \(0\)|  
|\[lParam\]|使用されない場合 \(0\)|  
|の場合、|ウィンドウが無効になることを **NOT** の無効にゼロ以外のウィンドウ、0 を次に示します。|  
  
 **WM\_FLOATSTATUS**  
  
 このメッセージは、フレーム ウィンドウが所有するすべてのポップアップ ウィンドウにフレームが別のトップレベルのフレーム ウィンドウによってアクティブ化または非アクティブ化されたときに送信されます。  `CMiniFrameWnd`で **MFS\_SYNCACTIVE** の実装によってこれは、トップ レベル フレーム ウィンドウのアクティブ化と同期してこれらのポップアップ ウィンドウをアクティブにするために使用されます。  
  
|||  
|-|-|  
|\[wParam\]|次の値のいずれか 1 つがです:<br /><br /> **FS\_SHOW**<br /><br /> **FS\_HIDE**<br /><br /> **FS\_ACTIVATE**<br /><br /> **FS\_DEACTIVATE**<br /><br /> **FS\_ENABLEFS\_DISABLE**<br /><br /> **FS\_SYNCACTIVE**|  
|\[lParam\]|使用されない場合 \(0\)|  
  
 戻り値は **FS\_SYNCACTIVE** が設定され、ウィンドウが親フレームとアクティベーションを syncronizes 以外。  `CMiniFrameWnd` は スタイルが **MFS\_SYNCACTIVE.**に設定されている場合はゼロ以外を返します  
  
 詳細については、`CMiniFrameWnd`の実装を参照します。  
  
## WM\_ACTIVATETOPLEVEL  
 このメッセージはトップレベル ウィンドウに「Top\-level グループ」ウィンドウがアクティブまたは非アクティブ化されたときに送信されます。  ウィンドウがトップレベル ウィンドウ \(親または所有者がない\) 場合、そのようなウィンドウが所有するトップレベルのグループの一部です。  このメッセージは **WM\_ACTIVATEAPP,** 別のプロセスに属するウィンドウが一つのウィンドウ階層に混在する場合の作業に似た使用中ですが、\(OLE アプリケーションで共通\)。  
  
## WM\_COMMANDHELP、WM\_HELPHITTEST、WM\_EXITHELPMODE  
 これらのメッセージは、状況依存のヘルプの実装で使用されます。  詳細については [テクニカル ノート 28](../mfc/tn028-context-sensitive-help-support.md) "を参照してください。  
  
## MFC のプライベートなリソース形式  
 現在、MFC は 2 個のプライベートなリソース形式を定義する: **RT\_TOOLBAR** と **RT\_DLGINIT**。  
  
## RT\_TOOLBAR リソース フォーマット  
 AppWizard に用意されている既定のツール バーは、MFC 4.0 で導入された **RT\_TOOLBAR** のカスタム リソースに基づいています。  ツールバー エディターを使用してこのリソースを編集できます。  
  
## RT\_DLGINIT リソース フォーマット  
 1 個の MFC のプライベートなリソース形式が追加ダイアログの初期化情報を格納するために使用されます。  これは、コンボ ボックスに格納される最初の文字列が含まれます。  このリソースの形式は手動で編集されるようにデザインされていませんが、Visual C\+\+ によって処理されます。  
  
 API の代わりにリソースの情報を参照するので Visual C\+\+ および **RT\_DLGINIT** のこのリソースは MFC の機能を使用する必要はありません。  Visual C\+\+ を使用して、アプリケーションの記述と保守を表示すると、long に変換するのが簡単になります。  
  
 **RT\_DLGINIT** リソースの基本的な構造は次のとおりです。:  
  
```  
+---------------+                    \  
| Control ID    |   UINT             |  
+---------------+                    |  
| Message #     |   UINT             |  
+---------------+                    |  
|length of data |   DWORD            |  
+---------------+                    |   Repeated  
|   Data        |   Variable Length  |   for each control  
|   ...         |   and Format       |   and message  
+---------------+                    /  
|     0         |   BYTE  
+---------------+  
```  
  
 繰り返しセクションは送信 \(標準の Windows メッセージ\) にメッセージは、メッセージ\#とデータの可変長を送信するコントロール ID が含まれています。  Windows メッセージがフォームで cache\-control:  
  
```  
SendDlgItemMessage(<Control ID>, <Message #>, 0, &<Data>);  
```  
  
 これは、非常に一般的な形式では、Windows メッセージとデータ コンテンツを許可します。  Visual C\+\+ リソース エディターと MFC は、Windows メッセージの限られたサブセットのみをサポートする: コンボ ボックスの最初の選択リストの CB\_ADDSTRING \(データは文字列です\)。  
  
## 参照  
 [番号順テクニカル ノート](../mfc/technical-notes-by-number.md)   
 [カテゴリ別テクニカル ノート](../mfc/technical-notes-by-category.md)