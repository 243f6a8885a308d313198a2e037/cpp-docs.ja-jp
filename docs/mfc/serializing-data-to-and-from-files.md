---
title: "データのファイルへのシリアル化 | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "データ [MFC]"
  - "データ [MFC], シリアル化"
  - "逆シリアル化 [C++]"
  - "ドキュメント データ [C++]"
  - "ドキュメント [C++], 保存"
  - "ドキュメント [C++], シリアル化"
  - "保存 (ドキュメントを)"
  - "シリアル化 [C++], 役割 (データの)"
  - "シリアル化 [C++], 役割 (ドキュメントの)"
ms.assetid: b42a0c68-4bc4-4012-9938-5433a26d2c24
caps.latest.revision: 9
caps.handback.revision: 5
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# データのファイルへのシリアル化
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

永続化の基本的な知識はオブジェクトのメンバー変数の値で指定された現在の状態を書き込む必要があるという永続ストレージに。  その後、オブジェクトは読み取りまたは「逆シリアル化して」永続ストレージからのオブジェクトの状態を再作成できます。  ここで重要な点は、オブジェクト自体が自身の状態を読み書きする必要があります。  したがって、永続的なクラスの場合、基本的なシリアル化操作を実装しなければなりません。  
  
 フレームワークが Open コマンドに応答して保存するドキュメントにディスク ファイルのドキュメントを読み込むには、ファイル メニューの名前を付けて保存コマンドと保存に応じてディスク ファイルの既定の実装を提供します。  ほとんどの作業を使用すると、ファイルとの間でデータの読み書きドキュメント機能を実装できます。  行う必要がある重要なことは、ドキュメントの [シリアル化する](../Topic/CObject::Serialize.md) クラスのメンバー関数をオーバーライドします。  
  
 MFC アプリケーション ウィザードでは、作成するドキュメント クラスの **CDocument** のメンバー関数 `Serialize` のスケルトンをオーバーライドします。  アプリケーションのメンバー変数を実装した後、ファイルに接続される「」アーカイブ オブジェクトにデータを送信するコードで `Serialize` のオーバーライドを記述できます。  [CArchive](../mfc/reference/carchive-class.md) オブジェクトは C\+\+ の iostream ライブラリから `cin` と `cout` 入出力オブジェクトに似ています。  ただし、`CArchive` はバイナリ形式で書式設定されたテキストではなくを読み書きします。  
  
## さらに詳しくは次のトピックをクリックしてください  
  
-   [シリアル化](../Topic/Serialization%20in%20MFC.md)  
  
-   [シリアル化のドキュメント ロール](#_core_the_document.92.s_role_in_serialization)  
  
-   [シリアル化のデータのロール](#_core_the_data.92.s_role_in_serialization)  
  
-   [シリアル化機構をバイパス](../mfc/bypassing-the-serialization-mechanism.md)  
  
##  <a name="_core_the_document.92.s_role_in_serialization"></a> シリアル化のドキュメント ロール  
 フレームワークは、ドキュメントの `Serialize` のメンバー関数を呼び出して、コマンドとして格納および保存する実装されればファイルを開くメニュー自動的に応答します。  `ID_FILE_OPEN` コマンドは、Application オブジェクトのハンドラー関数を呼び出します。  このプロセスでは、ユーザーがファイルを開くダイアログ ボックスに参照し、答え、フレームワークは、ユーザーが選択するファイル名を取得します。  フレームワークは、ドキュメントのデータの読み込みの `CArchive` オブジェクト セットアップ プロジェクトを作成し、`Serialize`にアーカイブを渡します。  フレームワークは、既にファイルが開いています。  ドキュメントの `Serialize` のメンバー関数のコードは、必要に応じてデータ オブジェクトを再構築するアーカイブを通じてデータを読取ります。  シリアル化の詳細については、記事 [シリアル化](../Topic/Serialization%20in%20MFC.md)を参照します。  
  
##  <a name="_core_the_data.92.s_role_in_serialization"></a> シリアル化のデータのロール  
 一般に、クラス型データがそれ自体をシリアル化する必要があります。  つまり、アーカイブにおよびアーカイブからに書き込む方法をアーカイブにオブジェクトを渡すと、オブジェクトは読み取る方法を理解する必要があります。  MFC はこのクラスをシリアル化できるようにするためのサポートを提供します。  データ型を定義するクラスを作成し、その型のデータをシリアル化する場合は、シリアル化のために設計します。  
  
## 参照  
 [ドキュメントの使い方](../mfc/using-documents.md)