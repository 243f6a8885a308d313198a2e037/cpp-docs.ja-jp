---
title: "コマンド ルーティングの図 | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "コマンド処理, ルーティング (コマンドを)"
  - "コマンド ルーティング, OnCmdMsg ハンドラー"
  - "MFC, コマンド ルーティング"
ms.assetid: 4b7b4741-565f-4878-b076-fd85c670f87f
caps.latest.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 5
---
# コマンド ルーティングの図
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

説明するために、MDI アプリケーションのすべてのメニュー項目がメニューを編集するオフからコマンド メッセージを検討してください。  このコマンドのハンドラー関数がアプリケーションのドキュメント クラスのメンバー関数であることを発生するとします。  ユーザーがメニュー項目を選択すると、次にコマンドがハンドラーに達するかです:  
  
1.  メイン フレーム ウィンドウがコマンド メッセージを最初に受け取ります。  
  
2.  メイン MDI フレーム ウィンドウは、現在アクティブな MDI 子ウィンドウにコマンドを処理する可能性があります。  
  
3.  MDI 子フレーム ウィンドウの標準ルーティング コマンドでは、独自のメッセージ マップをチェック アウトする前に、ビューに可能性があります。  
  
4.  ビューは独自のメッセージ マップと最初にチェックし、ハンドラーを、次のルーティング コマンドを関連付けられているドキュメントに返されます。  
  
5.  ドキュメントでは、メッセージ マップを確認し、ハンドラーを検索します。  このドキュメントのメンバー関数は、ルーティング停止呼び出されます。  
  
 ドキュメントにハンドラーがない場合は、ドキュメント テンプレートにコマンドをルーティングします。  次のコマンドは、ビュー、およびフレーム ウィンドウに戻ります。  最後に、フレーム ウィンドウでは、メッセージ マップをチェックします。  次に、チェックが同様に失敗した場合、コマンドはメイン MDI フレーム ウィンドウに再度アプリケーション オブジェクト \(未コマンドの最終的なリンク先にルーティングされます。  
  
## 参照  
 [フレームワークがハンドラーを呼び出す方法](../mfc/how-the-framework-calls-a-handler.md)