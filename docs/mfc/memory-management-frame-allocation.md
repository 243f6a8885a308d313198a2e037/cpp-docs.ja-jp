---
title: "メモリ管理 : フレーム割り当て | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "検出 (メモリ リークを)"
  - "フレーム割り当て"
  - "フレーム変数"
  - "フレーム変数, 自動的な削除"
  - "ヒープ割り当て, およびフレーム割り当て"
  - "メモリの割り当て, フレーム"
  - "メモリ リーク, 割り当て (フレームにオブジェクトを)"
  - "メモリ リーク, 検出"
  - "メモリ リーク, フレーム割り当て"
  - "メモリ, 検出 (リークを)"
  - "メモリ, 解放"
  - "メモリ, 解放"
  - "スコープ, フレーム変数"
  - "スタック フレーム"
  - "変数, フレーム変数"
ms.assetid: 945a211a-6f4f-4679-bb6a-b0f2a0d4a6c1
caps.latest.revision: 13
caps.handback.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# メモリ管理 : フレーム割り当て
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

フレームの割り当ては、関数が呼び出されるたびに設定された「スタック フレーム」の名前と同じになります。  スタック フレームが関数に一時的に引数を保持する、または関数に定義されたローカル変数であるメモリ領域です。  フレーム変数は、多くの場合、コンパイラが自動的にこれらの領域を割り当てるため、「自動」変数と呼ばれます。  
  
 フレームの割り当ての 2 種類の主要な特性があります。  最初にローカル変数を定義する際に、十分な領域がスタック フレーム内の大きな配列またはデータ構造体は、すべての変数を保持するように割り当てられます。  第 2 に、フレーム変数が自動的にスコープの外に出たときに削除されます:  
  
 [!code-cpp[NVC_MFC_Utilities#10](../mfc/codesnippet/CPP/memory-management-frame-allocation_1.cpp)]  
  
 ローカル関数の変数に対して、このスコープの切り替えは、入れ子になった中かっこを使用する関数の終了、フレーム変数のスコープは、関数より小さい可能性がある場合に発生します。  フレーム変数のこの自動削除は非常に重要です。  単純なプリミティブ型では `int` \(または **byte**など\)、配列、またはデータ構造は、自動削除変数によって使用されているメモリをクリアします。  変数がスコープ外になるため、常にアクセスできません。  ただし、C\+\+ オブジェクトの場合は自動削除のプロセスは少し複雑です。  
  
 オブジェクトがフレーム変数に定義すると、コンストラクターが定義が見つかった時点で自動的に呼び出されます。  オブジェクトがスコープ外に出ると、デストラクターは自動的にオブジェクトのメモリが解放される前に呼び出されます。  この自動構築および破棄は非常に便利ですデストラクターに自動的に \(特にです。  
  
 フレーム オブジェクトを代入する主な利点は自動的に削除されます。  フレーム オブジェクトを代入すると、メモリ リークが発生忘れたオブジェクトでを気にする必要はありません。\(メモリ リークの詳細については、[MFC でのメモリ リークの検出](http://msdn.microsoft.com/ja-jp/29ee8909-96e9-4246-9332-d3a8aa8d4658)を参照してください\)。フレームの割り当ての欠点は、フレーム変数がスコープの外側で使用できないという点です。  フレームの割り当てとそのヒープ割り当て選択のもう一つの要素は大きな構造体の DLL であり、スタック領域が頻繁に制限されているので、ストレージにスタックの代わりにヒープを使用することをお勧めします。  
  
## 参照  
 [メモリ管理](../mfc/memory-management.md)