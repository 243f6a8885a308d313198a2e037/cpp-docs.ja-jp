---
title: "標準 Windows メッセージのハンドラー | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "afx_msg"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "関数 [C++], ハンドラー"
  - "ハンドラー関数, 標準 Windows メッセージ"
  - "メッセージ処理 [C++], Windows メッセージ ハンドラー"
  - "メッセージ [C++], Windows"
  - "Windows メッセージ [C++], ハンドラー"
ms.assetid: 19412a8b-2c38-4502-81da-13c823c7e36c
caps.latest.revision: 10
caps.handback.revision: 6
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# 標準 Windows メッセージのハンドラー
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

標準 Windows メッセージ \(**WM\_**\) の既定のハンドラーは、`CWnd`クラスで定義されます。  クラス ライブラリには、メッセージの名前にこれらのハンドラーの名前をベースになります。  たとえば、`WM_PAINT` メッセージのハンドラーは `CWnd` で次のように宣言します。:  
  
 `afx_msg void OnPaint();`  
  
 **afx\_msg** キーワードは `CWnd` の他のメンバー関数とハンドラーを区別できるように、C\+\+ **virtual** キーワードの効果を示します。  ただし、これらの関数が実際に仮想でないので注意してください; これらは、メッセージ マップを通じて代わりに実装されます。  メッセージ マップは、C\+\+ 言語の標準プリプロセッサ マクロに、各機能に依存します。  **afx\_msg** キーワードは空白でプリプロセス後で解決します。  
  
 基本クラスで定義されているハンドラーを派生クラスの同じプロトタイプに対する関数をオーバーライドして、ハンドラーに対するメッセージ マップ エントリの作成を簡単に定義します。  ハンドラーはクラスの基本クラスの同じ名前のハンドラーを「オーバーライド」します。  
  
 場合によっては、ハンドラーは、オーバーライドされた基本クラスのハンドラーを呼び出す必要があります。基本クラスと Windows にはメッセージをアクティブにできます。  呼び出すと、オーバーライドされた基本クラスのハンドラーは状況によって異なります。  この基本クラスのハンドラーにと、最後に呼び出す必要があります。  ことに気付くメッセージを処理しない場合は、基本クラスのハンドラーに条件付きで呼び出します。  、実行する基本クラス ハンドラーに、条件付きで基本クラスのクラス ハンドラーが返す値または状態に応じて独自のハンドラーを呼び出すコードになります。  
  
> [!CAUTION]
>  基本クラスのハンドラーに渡す場合は、ハンドラーに渡される引数を変更するのは安全ではありません。  `OnChar` ハンドラーの `nChar` 引数を変更するには、たとえば、たくなる場合があります \(大文字に変換する場合など\)。  この動作は、曖昧で、この効果を実現する必要がある場合 `CWnd` のメンバー関数 **SendMessage** を代わりに使用します。  
  
 どのように特定のメッセージをオーバーライドする適切な方法が決まります。  プロパティ ウィンドウでは、特定のメッセージ `WM_CREATE`—次の `OnCreate` ハンドラー、など\) に対するハンドラー関数のスケルトンを記述するときに推奨されるオーバーライドされるメンバー関数の形式でスケッチします。  次の例では–1 を返すという条件でだけをハンドラー関数の最初の呼び出し基本クラス ハンドラーお勧めしますか。  
  
 [!CODE [NVC_MFCMessageHandling#3](../CodeSnippet/VS_Snippets_Cpp/NVC_MFCMessageHandling#3)]  
  
 通常、これらのハンドラーの名前はプレフィックスで始まります。「他のいくつかを受け取りますが、これらのハンドラーの一部の引数はありません。  中には、`void`以外の戻り値の型が異なります。  **WM\_** すべてのメッセージの既定のハンドラーは、名前が「から」で始まるクラス `CWnd` のメンバー関数として *MFC* "で説明しています`CWnd` のメンバー関数の宣言は **afx\_msg**がプレフィックスとして付けられます。  
  
## 参照  
 [メッセージ ハンドラー関数の宣言](../mfc/declaring-message-handler-functions.md)