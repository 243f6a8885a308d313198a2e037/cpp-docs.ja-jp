---
title: "ビルドのカスタマイズのトラブルシューティング | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "ビルド イベント [C++], トラブルシューティング"
  - "ビルド ステップ [C++], トラブルシューティング"
  - "ビルド [C++], ビルド イベント"
  - "ビルド [C++], トラブルシューティング"
  - "カスタム ビルド ステップ [C++], トラブルシューティング"
  - "イベント [C++], ビルド"
  - "トラブルシューティング [C++], ビルド"
ms.assetid: e4ceb177-fbee-4ed3-a7d7-80f0d78c1d07
caps.latest.revision: 8
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 8
---
# ビルドのカスタマイズのトラブルシューティング
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

カスタム ビルド ステップまたはイベントが予測どおりに動作しない場合は、何が間違っているかを理解するために実行できる手順がいくつかあります。  
  
-   カスタム ビルド ステップで生成されたファイルが出力として宣言したファイルと一致していることを確認します。  
  
-   カスタム ビルド ステップで、ほかのビルド ステップ \(カスタムまたはその他\) の入力または依存物であるファイルを生成する場合は、これらのファイルがプロジェクトに追加されていることを確認します。  これらのファイルを使用するツールが、カスタム ビルド ステップの後で実行されることを確認します。  
  
-   カスタム ビルド ステップが実際に何を行っているかを表示するには、最初のコマンドとして `@echo on` を追加します。  ビルド イベントとビルド ステップは、一時的な .bat ファイルに格納され、プロジェクトがビルドされたときに実行されます。  したがって、ビルド イベントまたはビルド ステップのコマンドにエラー チェックを追加できます。  
  
-   中間ファイル ディレクトリにあるビルド ログを調べて、実際に実行されたことを確認します。  ビルド ログのパスと名前は、**MSBuild** マクロの式では **$\(IntDir\)\\$\(MSBuildProjectName\).log** として表現されます。  
  
-   プロジェクト設定を変更して、ビルド ログに既定の量以上の情報を収集します。  **\[ツール\]** メニューの **\[オプション\]** をクリックします。  **\[オプション\]** ダイアログ ボックスで、**\[プロジェクトおよびソリューション\]** ノードを展開し、**\[ビルド\/実行\]** ノードをクリックします。  次に、**\[MSBuild プロジェクト ビルド ログ ファイルの詳細\]** ボックスの **\[詳細\]** をクリックします。  
  
-   使用しているファイル名またはディレクトリ マクロの値を確認します。  マクロを個別にエコーするか、カスタム ビルド ステップの先頭に `copy %0 command.bat` を追加して、すべてのマクロを展開した状態でカスタム ビルド ステップのコマンドを command.bat にコピーします。  
  
-   カスタム ビルド ステップとビルド イベントを個別に実行して、それらの動作をチェックします。  
  
## 参照  
 [カスタム ビルド ステップとビルド イベントについて](../ide/understanding-custom-build-steps-and-build-events.md)