---
title: "Visual C での展開 |Microsoft ドキュメント"
ms.custom: 
ms.date: 9/21/2017
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-ide
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- C++
helpviewer_keywords:
- deploying applications [C++]
- application deployment [C++]
ms.assetid: d4b4ffc0-d2bd-4e4a-84a6-62f1c26f6a09
caps.latest.revision: 
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: eda9c4a1a173087688c1fd3182845d6517f27ba6
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/21/2017
---
# <a name="deployment-in-visual-c"></a>Visual C++ での配置

開発コンピューター以外のコンピューター上のアプリケーションのインストールと呼ばれる*展開*です。 別のコンピューターに Visual C アプリケーションを展開するときに、アプリケーションとに依存しているすべてのライブラリ ファイルの両方をインストールする必要があります。 Visual Studio では、アプリケーションと共に Visual C ライブラリを導入する 3 つの方法:*集中配置*、*ローカル配置*、および*静的リンク*です。 ここでは、Windows Update サービスが自動的に更新である Windows ディレクトリの下のライブラリ ファイルを配置しますする集中配置。 ローカル配置では、ライブラリ ファイルをアプリケーションと同じディレクトリに配置します。 すべてのローカル配置されたライブラリを再展開する必要がありますに更新を自分でします。 ライブラリ コードをアプリケーションにバインドする静的にリンクします。 再コンパイルして活用するために、更新プログラム、ライブラリに静的にリンクを使用すると、アプリケーションを再配置する必要があります。

## <a name="central-deployment"></a>集中配置

集中配置でライブラリ DLL ファイルがインストールされている windows \system32 ディレクトリ、または x64 での 32 ビット ライブラリ ファイル システム、Windows\SysWow64 ディレクトリ。 集中配置されたライブラリは自動的に更新されます。 ローカルに展開または静的にリンクされている Visual C ライブラリの更新プログラムを提供する必要があります。

Visual C ライブラリを一元的に展開するにはこれら 2 つのソース ファイルのいずれかをインストールする使用することができます。

- *再頒布可能パッケージ*スタンドアロン コマンドライン実行可能ファイルを含む圧縮形式ですべての Visual C 再頒布可能ライブラリのファイルまたは

- *再頒布可能マージ モジュール*(.msm ファイル)、特定のライブラリの配置に使用できると、アプリケーションの Windows インストーラー (.msi) ファイルが含まれています。

再頒布可能パッケージ ファイルは、特定のシステム アーキテクチャは、Visual C ライブラリのすべてをインストールします。 たとえば、ビルドされる場合は、アプリケーションは、x64、vcredist_x64.exe 再頒布可能パッケージを使用して、アプリケーションを使用してすべての Visual C ライブラリをインストールすることができます。 アプリケーションをインストールする前に、前提条件として再頒布可能パッケージを実行するアプリケーションのインストーラーをプログラムすることができます。

マージ モジュールには、Windows インストーラー アプリケーションのセットアップ ファイルで特定の Visual C ライブラリに対するセットアップ ロジックを含めることができるようにします。 アプリケーションで必要な数または少数のマージ モジュールを含めることができます。 展開のバイナリのサイズを最小限に抑える必要がある場合は、マージ モジュールを使用します。

再頒布可能パッケージ、またはマージ モジュールを使用した集中配置では、Windows の更新を Visual C ライブラリを自動的に更新できますが、ことをお勧めスタティック ライブラリは、代わりに、アプリケーションで、ライブラリ Dll を使用してサーバーの全体を使用します。ローカル配置ではなく展開できます。

## <a name="local-deployment"></a>ローカル配置

ローカル配置では、ライブラリ ファイルは、実行可能ファイルと共にアプリケーション フォルダーにインストールされます。 異なるバージョンの Visual C 再頒布可能ライブラリは、各バージョンのファイル名には、そのバージョン番号が含まれているために、同じフォルダーにインストールできます。 たとえば、C ランタイム ライブラリの version 12 は msvcp120.dll、およびバージョン 14 が msvcp140.dll です。

Microsoft が自動的にできないため、更新プログラムをローカルには、Visual C ライブラリが展開されている、これらのライブラリのローカル配置はお勧めしません。 再頒布可能ライブラリのローカル配置を使用する場合は、ローカル配置されたライブラリを対象とした独自の自動更新方法を実装することをお勧めします。

## <a name="static-linking"></a>静的リンク

動的にリンクされたライブラリは、に加えて Visual Studio でのスタティック ライブラリとしてそのライブラリのほとんどに提供します。 静的にされているため、アプリケーションをスタティック ライブラリをリンクできます。、ライブラリのオブジェクト コードをアプリケーションに直接リンクします。 これにより、Visual C ライブラリ ファイルを個別に展開する必要があるないように、DLL 依存することがなく 1 つのバイナリが作成されます。 ただし、お勧めしませんこのアプローチに静的にリンクされるライブラリは、インプレース更新できないため。 静的なリンクを使用している場合、リンクされたライブラリを更新するには、アプリケーションを再コンパイルし、再配置する必要があります。

## <a name="troubleshooting-deployment-issues"></a>展開に関する問題のトラブルシューティング

Visual C ライブラリの読み込み順序は、システムによって異なります。 ローダーの問題を診断するには、depends.exe または where.exe を使用します。 詳細については、次を参照してください。[ダイナミック リンク ライブラリの検索順序 (Windows)](http://msdn.microsoft.com/library/windows/desktop/ms682586.aspx)です。

## <a name="see-also"></a>参照

[デスクトップ アプリケーションの配置](../ide/deploying-native-desktop-applications-visual-cpp.md)