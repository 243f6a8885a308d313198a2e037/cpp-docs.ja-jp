---
title: '#include ディレクティブ (C/C++) |Microsoft Docs'
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-tools
ms.topic: reference
f1_keywords:
- '#include'
dev_langs:
- C++
helpviewer_keywords:
- preprocessor, directives
- '#include directive'
- include directive (#include)
ms.assetid: 17067dc0-8db1-4f2d-b43e-ec12ecf83238
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: fdf60755591dd37a541c02330554fa4fe9b92ca6
ms.sourcegitcommit: a9dcbcc85b4c28eed280d8e451c494a00d8c4c25
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/25/2018
ms.locfileid: "50062484"
---
# <a name="include-directive-cc"></a>#include ディレクティブ (C/C++)
指定されたファイルの内容をソース プログラムに読み込むように、このディレクティブが出現した時点でプリプロセッサに指示します。

## <a name="syntax"></a>構文

```
#include  "path-spec"
#include  <path-spec>
```

## <a name="remarks"></a>Remarks

定数やマクロの定義をインクルード ファイルに整理して使用し、 **#include**ディレクティブを任意のソース ファイルに追加します。 インクルード ファイルは外部変数や複合データ型の宣言を組み込むためにも便利です。 それらの型の定義と名前付けは、その目的で作成したインクルード ファイル内で一度だけ行います。

`path-spec` はディレクトリの後に指定するファイル名です (省略可能)。 そのファイル名は既存のファイルの名前であることが必要です。 `path-spec` の構文は、プログラムがコンパイルされるオペレーティング システムによって異なります。

使用してコンパイルされる C++ アプリケーションでアセンブリを参照する方法については[/clr](../build/reference/clr-common-language-runtime-compilation.md)を参照してください[#using](../preprocessor/hash-using-directive-cpp.md)します。

どちらの構文形式でも、そのディレクティブは指定したインクルード ファイルの内容全体に置き換わります。 2 つの構文形式間の違いは、不完全なパスが指定されているときに、プリプロセッサがヘッダー ファイルを検索する順序です。 次の表に 2 つの構文形式間の違いを示します。

|構文形式|アクション|
|-----------------|------------|
|引用符形式|プリプロセッサはインクルード ファイルを次の順序で検索します。<br /><br /> 1) を含むファイルと同じディレクトリに、 **#include**ステートメント。<br /><br /> 2) 現在開かれているディレクトリにファイルが開かれた逆の順序で含まれます。 ディレクトリの検索は親インクルード ファイルのディレクトリから始まり、上方向へ移動して親の親インクルード ファイルのディレクトリへと続きます。<br /><br /> 3) 各によって指定されているパスに沿った`/I`コンパイラ オプション。<br /><br /> 4)<br /><br /> INCLUDE 環境変数で指定されたパスをたどって。|
|山かっこ形式|プリプロセッサはインクルード ファイルを次の順序で検索します。<br /><br /> 1) ごとに指定されているパスに沿った`/I`コンパイラ オプション。<br /><br /> 2) とコンパイルは、INCLUDE 環境変数によって指定されたパスに沿って、コマンドラインで発生します。|

プリプロセッサは指定された名前のファイルが見つかるとすぐに検索を停止します。 二重引用符 (" ") 間にインクルード ファイルのあいまいでない完全なパスを指定すると、プリプロセッサはそのパスのみを検索し、標準ディレクトリを無視します。

二重引用符で囲んだファイル名が不完全なパスで指定されている場合、プリプロセッサはまず "親" ファイルのディレクトリを検索します。 親ファイルは、ファイルを含む、 **#include**ディレクティブ。 たとえば、`file2` というファイルに `file1` というファイルをインクルードする場合、`file1` が親ファイルです。

インクルード ファイルは「入れ子にできます」。つまり、 **#include**ディレクティブは、別という名前のファイルに表示できる **#include**ディレクティブ。 たとえば、`file2` に `file3` をインクルードできます。 この場合、`file1` は `file2` の親でありながら、`file3` の "親の親" になります。

インクルード ファイルが入れ子になっている場合、コマンド ラインでコンパイルすると、ディレクトリの検索は親ファイルのディレクトリから始まり、親の親ファイルのディレクトリへと続きます。 したがって、検索は現在処理中のソースが含まれるディレクトリに対して相対的に開始されます。 検索がで指定されているディレクトリに移動、ファイルが見つからない場合、`/I`コンパイラ オプション。 最後に、INCLUDE 環境変数で指定したディレクトリが検索されます。

開発環境からは、INCLUDE 環境変数は無視されます。 インクルード ファイルを検索するディレクトリを設定する方法については、これは、LIB 環境変数にも適用されます: を参照してください[vc++ Directories Property Page](../ide/vcpp-directories-property-page.md)します。

次の例では、山かっこ形式を使用したファイルのインクルードを示します。

```
#include <stdio.h>
```

この例では、STDIO.H というファイルの内容をソース プログラムに追加します。 山かっこ STDIO INCLUDE 環境変数で指定されているディレクトリを検索するプリプロセッサが発生します。H で指定されているディレクトリを検索した後、`/I`コンパイラ オプション。

次の例では、引用符形式を使用したファイルのインクルードを示します。

```
#include "defs.h"
```

この例では、DEFS.H で指定されたファイルの内容をソース プログラムに追加します。 引用符形式では、プリプロセッサは、親のソース ファイルがあるディレクトリをまず検索します。

インクルード ファイルの入れ子は最大 10 レベルまで可能です。 ときに、入れ子になった **#include**は外側のインクルード ファイルを元のソース ファイルに挿入する、処理、プリプロセッサは続いています。

**Microsoft 固有の仕様**

インクルードのソース ファイルを検索するには、プリプロセッサはまずで指定されているディレクトリ、`/I`コンパイラ オプション。 場合、`/I`オプションが存在しないか、または山かっこ内のすべてのインクルード ファイルを検索するの失敗した場合、プリプロセッサは INCLUDE 環境変数。 INCLUDE 環境変数と`/I`コンパイラ オプションは、セミコロン (;) で区切られた複数のパスを含めることができます。 一部として複数のディレクトリが表示された場合、`/I`オプションまたは表示される順番に、プリプロセッサによって、INCLUDE 環境変数内で検索します。

たとえば、次のコマンドがあるとします。

```
CL /ID:\MSVC\INCLUDE MYPROG.C
```

このコマンドにより、プリプロセッサは D:\MSVC\INCLUDE\ ディレクトリ内で STDIO.H などのインクルード ファイルを検索します。 また、次のコマンドがあるとします。

```
SET INCLUDE=D:\MSVC\INCLUDE
CL MYPROG.C
```

このコマンドでも同じ結果になります。 いずれの検索も失敗した場合は、致命的なコンパイル エラーが発生します。

インクルード ファイルの名前がコロンを含む完全なパスで指定されている場合 (F:\MSVC\SPECIAL\INCL\TEST.H など)、プリプロセッサはそのパスをたどります。

インクルード ファイルとして指定されている`#include`"`path-spec`"、ディレクトリの検索は親ファイルのディレクトリから始まりし、すべての祖父母ファイルのディレクトリに続きます。 つまり、検索を含むソース ファイルを格納するディレクトリに対する相対開始、 **#include**処理中のディレクティブ。 親の親ファイルが存在せず、見つからなかった場合は、ファイル名が山かっこで囲まれているものとして検索が続行されます。

**Microsoft 固有の仕様はここまで**

## <a name="see-also"></a>関連項目

[プリプロセッサ ディレクティブ](../preprocessor/preprocessor-directives.md)