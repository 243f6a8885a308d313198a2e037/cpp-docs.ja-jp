---
title: "リンカ ツール エラー LNK1104 |Microsoft ドキュメント"
ms.custom: 
ms.date: 05/17/2017
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-tools
ms.tgt_pltfrm: 
ms.topic: error-reference
f1_keywords:
- LNK1104
dev_langs:
- C++
helpviewer_keywords:
- LNK1104
ms.assetid: 9ca6f929-0efc-4055-8354-3cf5b4e636dc
caps.latest.revision: 8
author: corob-msft
ms.author: corob
manager: ghogen
ms.translationtype: MT
ms.sourcegitcommit: 35b46e23aeb5f4dbfd2a0dd44b906389dd5bfc88
ms.openlocfilehash: ebc0b23a7d92c94373b9ae5be01a0ef50476e433
ms.contentlocale: ja-jp
ms.lasthandoff: 10/09/2017

---
# <a name="linker-tools-error-lnk1104"></a>リンカ ツール エラー LNK1104
ファイルを開くことができません '*filename*'  
  
リンカーは、指定したファイルを開けませんでした。  
  
## <a name="possible-causes-and-solutions"></a>考えられる原因と解決策
  
このエラーは、リンカーは、読み取り用または書き込み用のファイルを開こうとしたときに発生することができます。 この問題の最も一般的な原因は、ファイルが存在しないが見つかりません、ディレクトリのいずれかで、リンカー検索、または使用中で、別のプロセスによってロックされています。 場合によっては、ディスク領域が不足する実行可能性があります、ファイルが大きすぎる可能性があります、ファイルへのパスが長すぎる可能性があります。 またはファイルへのアクセス権限がないです。  

これらの一般的な問題のいずれかを確認します。  

-   再構築しようとすると、アプリケーションが実行されています。 ファイルを開くことができませんが、実行可能ファイルまたは .pdb などのデバッグ ファイルの場合は、これは一般的な原因になります。 この問題を修正するには、プログラムを停止し、再構築する前に、デバッガーからアドインをアンロードします。  
  
-   ファイル*filename*ソリューションがビルドされますが、まだ存在しない、リンカーは、アクセスしようとしています。 これは、1 つのプロジェクトは、このファイルを生成するために別のプロジェクトによって異なりますが、正しい順序で、プロジェクトがビルドされないときに発生することができます。 この問題を解決するには、要求される前に、見つからないファイルがビルドされたファイルを使用しているプロジェクトのプロジェクト参照を設定を確認します。 詳細については、次を参照してください。 [Visual c プロジェクトで参照の追加](../../ide/adding-references-in-visual-cpp-projects.md)と[プロジェクト内の参照を管理する](/visualstudio/ide/managing-references-in-a-project)です。  
  
-   ファイル名またはコマンド ラインでまたは #pragma lib ディレクティブで指定されたパスが正しくないか、パスが無効なドライブ指定します。 スペルを確認して、指定した場所にファイルが存在することを確認します。  
  
-   別のコンピューターからコピーされたプロジェクトをビルドする Visual Studio IDE を使用している場合は、ライブラリのインストールの場所が異なる場合があります。 ライブラリ ディレクトリ プロパティを確認して、 [vc++ ディレクトリ プロパティ ページ](../../ide/vcpp-directories-property-page.md)し、必要に応じて更新します。 参照し、IDE で設定されて現在のライブラリ パスを編集、ライブラリ ディレクトリ プロパティのドロップダウン コントロールを選択して、**編集**です。 **値を評価**ライブラリ ディレクトリ ダイアログ ボックスのセクションでは、現在のライブラリ ファイルの検索パスを示します。  
  
-   古いバージョンの Visual Studio を使用して作成されたプロジェクトをビルドする場合、プラットフォームのツールセットとそのバージョンのライブラリがインストールされていないされません。 この問題を解決するには、2 つのオプションがあります。: をインストールしたら、現在のプラットフォーム ツールセットを使用するプロジェクトをアップグレードすることができます、または古いツールセットをインストールしてそのままプロジェクトをビルドします。 詳細については、次を参照してください。 [Visual c の以前のバージョンからプロジェクトをアップグレード](../../porting/upgrading-projects-from-earlier-versions-of-visual-cpp.md)と[古いプロジェクトをビルドする Visual Studio のネイティブ マルチ ターゲットを使用](../../porting/use-native-multi-targeting.md)です。
  
-   現在のプロジェクト構成またはプラットフォーム ツールセットは、ライブラリがインストールされていません。 プラットフォームのツールセットと Windows SDK がで指定されていることを確認、[全般 プロパティ ページ](../../ide/general-property-page-project.md)、プロジェクトがインストールされ、必要なライブラリがで指定されたライブラリ ディレクトリで利用できることを確認してください、 [Vc++ ディレクトリ プロパティ ページ](../../ide/vcpp-directories-property-page.md)構成の設定。 デバッグと製品の構成に別の設定はしてください。 1 つのビルドは、エラーが発生する他の場合は、設定が正しいと、両方の構成に必要なツールとライブラリがインストールされていることを確認します。  
  
-   Windows SDK へのパスは、期限切れです。 Visual Studio のバージョンよりも新しい Windows SDK のバージョンがインストールされている場合に、パスが指定されている確認、 [vc++ ディレクトリ プロパティ ページ](../../ide/vcpp-directories-property-page.md)新しい SDK に合わせて更新します。 開発者コマンド プロンプトを使用する場合は、SDK の新しいパスの環境変数を初期化するバッチ ファイルを更新することを確認します。  
  
-   別のプログラムのファイルが開かれている可能性があり、リンカーはそのファイルに書き込めません。 ウイルス対策プログラムの多くの場合、一時的にブロック新しく作成されたファイルにアクセスします。 この問題を修正するのには、ウイルス対策スキャナーから、プロジェクトのビルド ディレクトリを除外してみてください。  
  
-   並行ビルド オプションを使用している場合は、Visual Studio の別のスレッド上のファイルがロックされていること。 この問題を解決するには、同じコード オブジェクトまたは複数のプロジェクトにライブラリをビルドしないことと、プロジェクトでビルドされたバイナリを取得するビルドの依存関係またはプロジェクトの参照を使用することを確認します。  
  
-   正しくない LIB 環境変数があります。 コマンド ライン ビルドでは、LIB 環境変数が設定され、使用するライブラリのすべてのディレクトリを含むことを確認します。 IDE では、変数 LIB プロパティで設定されて、ライブラリのディレクトリで、 [vc++ ディレクトリ プロパティ ページ](../../ide/vcpp-directories-property-page.md)です。 次のすべての必要なライブラリが含まれているディレクトリが次に示しますを確認します。 標準ライブラリ ディレクトリをオーバーライドするライブラリ ディレクトリを指定する必要がある場合は、使用することができます、 [/LIBPATH](../../build/reference/libpath-additional-libpath.md)) オプションは、コマンドラインまたはプロジェクトの [リンカー] プロパティ ページで [追加のライブラリ ディレクトリ] プロパティに対して。  
  
-   個々 のライブラリ プロジェクトのプロパティ ページ ダイアログ ボックスを指定する場合は、スペース、コンマではないでライブラリ名を区切る必要があります。  
  
-   パス*filename* 260 文字以上に拡張されます。 名前を変更するか、必要なファイルへのパスを短縮するために必要な場合に、ディレクトリ構造を再配置。  
  
-   ファイルが大きすぎます。 ライブラリ オブジェクトのファイルまたはギガバイト サイズでは、32 ビット リンカー問題が発生する可能性がありますよりも大きくします。 この問題の考えられる修正では、64 ビット ツールセットを使用します。 コマンドラインで行う方法の詳細については、次を参照してください。[する方法: コマンドラインで 64 ビット Visual c ツールセットを有効にする](../../build/how-to-enable-a-64-bit-visual-cpp-toolset-on-the-command-line.md)です。 これは、IDE で実行する方法については、次を参照してください。 [64 ビットのコンパイラとツールを使用して MSBuild](../../build/walkthrough-using-msbuild-to-create-a-visual-cpp-project.md#using-msbuild-to-build-your-project)とこのスタック オーバーフローの投稿: [amd64 のネイティブ ツール チェーンを使用して Visual Studio を作成する方法](http://stackoverflow.com/questions/19820718/how-to-make-visual-studio-use-the-native-amd64-toolchain/23793055)です。  
  
-   アクセスが不足しているファイルのアクセス許可がある*filename*です。 これは、ライブラリ ファイルが保護されたシステム ディレクトリにアクセスまたは元の権限を持つ他のユーザーからコピーしたファイルを使用する場合に発生することができますを設定します。 この問題を解決するには、ファイルを書き込み可能なプロジェクト ディレクトリに移動します。 ファイルが書き込み可能なディレクトリではアクセスできないアクセス許可を持つ場合は、管理者コマンド プロンプトを使用でき、ファイルの所有権を取得する takeown.exe コマンドを実行できます。  
  
-   十分なディスク領域がありません。 リンカーが一時ファイルを使用するケースはいくつかあります。 場合でも、十分なディスク領域がある場合は、非常に大規模なリンクが消費されますしたり、使用可能なディスク領域をフラグメント化できます。 使用を検討して、 [/OPT (最適化)](../../build/reference/opt-optimizations.md)オプション; 行って中間 comdat 除去読み取り、すべてのオブジェクト ファイル複数回です。  
  
-   場合、 *filename* LNK の名前は*n*、一時ファイルのリンカーによって生成されるファイル名は、TMP 環境変数で指定されたディレクトリが存在しない、または 1 つ以上のTMP 環境変数のディレクトリを指定することがあります。 TMP 環境変数の 1 つだけのディレクトリ パスを指定する必要があります。  
  
-   ライブラリ名でエラー メッセージが発生し、以前の Microsoft Visual C++ 開発システムから最近.mak ファイルを移植した場合、ライブラリは無効になることがあります。 ライブラリ名が正しいと指定した場所にまだ存在していることを確認または新しい場所を指すように、LIB パスを更新します。  

