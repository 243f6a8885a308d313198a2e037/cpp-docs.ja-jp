---
title: "ビルド システムの変更点 | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vc.msbuild.changes"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "ビルド システムの変更点, $(Inherit)"
  - "ビルド システムの変更点, $(NoInherit)"
  - "ビルド システムの変更点, .vsprops"
  - "ビルド システムの変更点, カスタム ビルド規則"
  - "ビルド システムの変更点, MSBuild"
  - "ビルド システムの変更点, プロジェクト ファイル (.vcxprog)"
  - "MSBuild, ビルド システムの変更点"
ms.assetid: e564d95f-a6cc-4d97-b57e-1a71daf66f4a
caps.latest.revision: 13
caps.handback.revision: 13
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# ビルド システムの変更点
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

MSBuild システムを Visual C\+\+ のプロジェクトをビルドするために使用されます。  ただし、Visual Studio 2008 以前のリリースでは、VCBuild システムが使用されました。  VCBuild に応じた概念、現在のシステムでとファイルの種類は別々に存在しないか、表されません。  ここでは、現在のビルド システムの違いについて説明します。  
  
## .vcproj から .vcxproj へ  
 プロジェクト ファイルでは .vcproj ファイル名拡張子が使用されなくなりました。  Visual C\+\+ の以前のリリースで作成されたプロジェクト ファイルは、Visual Studio により、現在のシステムで使用されている形式に自動的に変換されます。  手動でプロジェクトをアップグレードする方法の詳細については、「[\/Upgrade](../Topic/-Upgrade%20\(devenv.exe\).md)」を参照してください。  
  
 現在のリリースでは、プロジェクト ファイルのファイル名拡張子は .vcxproj です。  
  
## .vsprops から .props へ  
 以前のリリースでは、*プロジェクトのプロパティ シート*は .vsprops というファイル名拡張子を持つ XML ベースのファイルです。  プロジェクトのプロパティ シートを使用すると、コンパイラやリンカーなどのビルド ツールのスイッチを指定し、ユーザー定義のマクロを作成できます。  
  
 現在のリリースでは、プロジェクトのプロパティ シートのファイル名拡張子は .props です。  
  
## カスタム ビルド規則と .rules ファイル  
 以前のリリースでは、*規則ファイル*は .rules というファイル名拡張子を持つ XML ベースのファイルです。  規則ファイルを使用すると、カスタム ビルド規則を定義し、それらの規則を Visual C\+\+ プロジェクトのビルド処理に取り入れることができます。  カスタム ビルド規則は、1 つ以上のファイル名拡張子に関連付けることができます。これを使用すると、1 つ以上の出力ファイルを作成するツールに入力ファイルを渡すことができます。  
  
 このリリースでは、カスタム ビルド規則は、.rules ファイルではなく、3 種類のファイル \(.xml、.props、および .targets\) により表されます。  Visual C\+\+ の以前のリリースを使用して作成された .rules ファイルを現在のリリースに移行すると、同等の .xml、.props、および .targets ファイルが作成され、元の .rules ファイルと共にプロジェクトに保存されます。  
  
> [!IMPORTANT]
>  現在のリリースでは、[!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] は新しい規則の作成をサポートしていません。  そのため、Visual C\+\+ の以前のリリースを使用して作成されたプロジェクトの規則ファイルを使用する最も簡単な方法は、現在のリリースにプロジェクトを移行することです。  
  
## 継承マクロ  
 以前のリリースでは、**$\(Inherit\)** マクロによって、継承されたプロパティがプロジェクト ビルド システムで構成されたコマンド ラインに指定される順序を指定します。  また、**$\(NoInherit\)** マクロを使用すると、$\(Inherit\) の指定がすべて無視され、通常は継承されるプロパティが継承されなくなります。  たとえば、既定では、$\(Inherit\) マクロを使用すると、[\/I \(追加インクルード ディレクトリ\)](../build/reference/i-additional-include-directories.md) コンパイラ オプションを使用して指定したファイルがコマンド ラインに追加されます。  
  
 現在のリリースでは、プロパティの値を 1 つ以上のリテラル値とプロパティ マクロの連結として指定することで、継承がサポートされます。  **$\(Inherit\)** マクロと **$\(NoInherit\)** マクロはサポートされていません。  
  
 次の例では、セミコロン区切りのリストをプロパティ ページのプロパティに割り当てます。  リストは、リテラル *\<value\>* の値を連結してからマクロ表記を使用してアクセスする `MyProperty` のプロパティ、**$\(***MyProperty***\)**構成されます。  
  
```  
Property=<value>;$(MyProperty)  
```  
  
## .vcxproj.user ファイル  
 ユーザー ファイル \(.vcxproj.user\) には、デバッグと配置の設定などのユーザー固有のプロパティが格納されます。  vcxproj.user ファイルは、特定のユーザーのすべてのプロジェクトに適用されます。  
  
## .vcxproj.filters ファイル  
 **ソリューション エクスプローラー**を使用してファイルをプロジェクトに追加するときには、フィルター ファイル \(.vcxproj.filters\) により、ファイル名拡張子に基づいて、ファイルの追加先となる**ソリューション エクスプローラー**のツリー ビュー内の場所が定義されます。  
  
## VC\+\+ ディレクトリの設定  
 Visual C\+\+ ディレクトリの設定は、[\[VC\+\+ ディレクトリ\] プロパティ ページ](../Topic/VC++%20Directories%20Property%20Page.md)で指定します。  以前のリリースの Visual Studio では、ディレクトリの設定がユーザーごとに適用され、sysincl.dat ファイルで除外ディレクトリが指定されていました。  
  
 コマンド ラインで [devenv \/resetsettings](../Topic/-ResetSettings%20\(devenv.exe\).md) を実行する場合、VC\+\+ ディレクトリの設定は変更できません。  また、**\[ツール\]** メニューを開き、**\[設定のインポートとエクスポート\]** をクリックし、**\[すべての設定をリセット\]** を選択した場合も、設定は変更できません。  
  
 Visual C\+\+ の以前のリリースで作成された .vssettings ファイルの VC\+\+ ディレクトリ設定は移行してください。  **\[ツール\]** メニューを開き、**\[設定のインポートとエクスポート\]** をクリックし、**\[選択された環境設定をインポート\]** を選択し、ウィザードの指示に従います。  または、Visual Studio の初回起動時に、**\[既定の環境設定の選択\]** ダイアログ ボックスで、**\[以前のバージョンから有効な設定を移行し、以下で選択した既定の設定と合わせて適用する\]** を選択します。  
  
## 参照  
 [MSBuild \(Visual C\+\+\)](../Topic/MSBuild%20\(Visual%20C++\).md)